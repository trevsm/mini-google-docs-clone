(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,n){e.exports=n(251)},243:function(e,t){},251:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(41),c=n.n(a),u=n(106),i=n(8),l=n(69),s=n(109),p=n(108),f=n(3),d=f.n.fromJSON({document:{nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",text:"A line of text in a paragraph."}]}]}}),m=n(105),h=n.n(m)()("http://devices.red:4000"),g=function(e){var t=e.groupId,n=Object(r.useState)(d),a=Object(s.a)(n,2),c=a[0],u=a[1],i=Object(r.useRef)("".concat(Date.now())),m=Object(r.useRef)(null),g=Object(r.useRef)(!1);return Object(r.useEffect)(function(){fetch("http://localhost:4000/groups/".concat(t)).then(function(e){return e.json().then(function(e){u(f.n.fromJSON(e))})});var e="new-remote-operations-".concat(t);return h.on(e,function(e){var t=e.editorId,n=e.ops;i.current!==t&&(g.current=!0,n.forEach(function(e){return m.current.applyOperation(e)}),g.current=!1)}),function(){h.off(e)}},[t]),o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onMouseDown:function(e){e.preventDefault(),m.current.toggleMark("bold")}},"bold"),o.a.createElement("button",{onMouseDown:function(e){e.preventDefault(),m.current.toggleMark("italic")}},"italic"),o.a.createElement(p.a,{ref:m,style:{backgroundColor:"#fafafa",maxWidth:800,minHeight:150},value:c,renderMark:function(e,t,n){return"bold"===e.mark.type?o.a.createElement("strong",{style:{letterSpacing:1,color:"pink"}},e.children):"italic"===e.mark.type?o.a.createElement("em",null,e.children):n()},onChange:function(e){u(e.value);var n=e.operations.filter(function(e){return!!e&&("set_selection"!==e.type&&"set_value"!==e.type&&(!e.data||!e.data.has("source")))}).toJS().map(function(e){return Object(l.a)(Object(l.a)({},e),{},{data:{source:"one"}})});n.length&&!g.current&&h.emit("new-operations",{editorId:i.current,ops:n,value:e.value.toJSON(),groupId:t})}}))},b=function(e){var t=e.match.params.id;return r.createElement("div",null,r.createElement(g,{groupId:t}))},v=function(){return o.a.createElement(u.a,null,o.a.createElement(i.b,{path:"/",exact:!0,render:function(){return o.a.createElement(i.a,{to:"/group/".concat(Date.now())})}}),o.a.createElement(i.b,{path:"/group/:id",component:b}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[110,1,2]]]);
//# sourceMappingURL=main.cbf67936.chunk.js.map