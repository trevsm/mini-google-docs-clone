(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,n){e.exports=n(251)},243:function(e,t){},251:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),a=n(41),c=n.n(a),u=n(106),l=n(8),i=n(69),s=n(109),p=n(108),f=n(3),d=f.n.fromJSON({document:{nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",text:"A line of text in a paragraph."}]}]}}),m=n(105),h=n.n(m)()("http://localhost:4000"),g=function(e){var t=e.groupId,n=Object(o.useState)(d),a=Object(s.a)(n,2),c=a[0],u=a[1],l=Object(o.useRef)("".concat(Date.now())),m=Object(o.useRef)(null),g=Object(o.useRef)(!1);return Object(o.useEffect)(function(){fetch("http://localhost:4000/groups/".concat(t)).then(function(e){return e.json().then(function(e){u(f.n.fromJSON(e))})});var e="new-remote-operations-".concat(t);return h.on(e,function(e){var t=e.editorId,n=e.ops;l.current!==t&&(g.current=!0,n.forEach(function(e){return m.current.applyOperation(e)}),g.current=!1)}),function(){h.off(e)}},[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onMouseDown:function(e){e.preventDefault(),m.current.toggleMark("bold")}},"bold"),r.a.createElement("button",{onMouseDown:function(e){e.preventDefault(),m.current.toggleMark("italic")}},"italic"),r.a.createElement(p.a,{ref:m,style:{backgroundColor:"#fafafa",maxWidth:800,minHeight:150},value:c,renderMark:function(e,t,n){return"bold"===e.mark.type?r.a.createElement("strong",{style:{letterSpacing:1,color:"pink"}},e.children):"italic"===e.mark.type?r.a.createElement("em",null,e.children):n()},onChange:function(e){u(e.value);var n=e.operations.filter(function(e){return!!e&&("set_selection"!==e.type&&"set_value"!==e.type&&(!e.data||!e.data.has("source")))}).toJS().map(function(e){return Object(i.a)(Object(i.a)({},e),{},{data:{source:"one"}})});n.length&&!g.current&&h.emit("new-operations",{editorId:l.current,ops:n,value:e.value.toJSON(),groupId:t})}}))},b=function(e){var t=e.match.params.id;return o.createElement("div",null,o.createElement(g,{groupId:t}))},v=function(){return r.a.createElement(u.a,null,r.a.createElement(l.b,{path:"/",exact:!0,render:function(){return r.a.createElement(l.a,{to:"/group/".concat(Date.now())})}}),r.a.createElement(l.b,{path:"/group/:id",component:b}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[110,1,2]]]);
//# sourceMappingURL=main.897aa648.chunk.js.map